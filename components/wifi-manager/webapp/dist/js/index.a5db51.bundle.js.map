{"version":3,"file":"./js/index.a5db51.bundle.js","mappings":"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","sources":["webpack://squeezelite-esp32/webpack/runtime/chunk loaded","webpack://squeezelite-esp32/./src/js/custom.js","webpack://squeezelite-esp32/./src/index.ts","webpack://squeezelite-esp32/webpack/bootstrap","webpack://squeezelite-esp32/webpack/runtime/compat get default export","webpack://squeezelite-esp32/webpack/runtime/define property getters","webpack://squeezelite-esp32/webpack/runtime/global","webpack://squeezelite-esp32/webpack/runtime/hasOwnProperty shorthand","webpack://squeezelite-esp32/webpack/runtime/make namespace object","webpack://squeezelite-esp32/webpack/runtime/node module decorator","webpack://squeezelite-esp32/webpack/runtime/jsonp chunk loading","webpack://squeezelite-esp32/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var he = require('he');\r\nvar Promise = require('es6-promise').Promise;\r\nwindow.bootstrap = require('bootstrap');\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\n\r\nif (!String.prototype.format) {\r\n  Object.assign(String.prototype, {\r\n    format() {\r\n      const args = arguments;\r\n      return this.replace(/{(\\d+)}/g, function (match, number) {\r\n        return typeof args[number] !== 'undefined' ? args[number] : match;\r\n      });\r\n    },\r\n  });\r\n}\r\nif (!String.prototype.encodeHTML) {\r\n  Object.assign(String.prototype, {\r\n    encodeHTML() {\r\n      return he.encode(this).replace(/\\n/g, '<br />');\r\n    },\r\n  });\r\n}\r\nObject.assign(Date.prototype, {\r\n  toLocalShort() {\r\n    const opt = { dateStyle: 'short', timeStyle: 'short' };\r\n    return this.toLocaleString(undefined, opt);\r\n  },\r\n});\r\nfunction handleNVSVisible(){\r\n  let nvs_previous_checked = isEnabled(Cookies.get(\"show-nvs\"));\r\n  $('input#show-nvs')[0].checked = nvs_previous_checked ;\r\n  if ($('input#show-nvs')[0].checked || recovery) {\r\n      $('*[href*=\"-nvs\"]').show();\r\n    } else {\r\n      $('*[href*=\"-nvs\"]').hide();\r\n    }\r\n}\r\n\r\n\r\nfunction isEnabled(val) {\r\n  return val!=undefined && typeof val === 'string' && val.match(\"[Yy1]\");\r\n}\r\n\r\nconst nvsTypes = {\r\n  NVS_TYPE_U8: 0x01,\r\n\r\n  /*! < Type uint8_t */\r\n  NVS_TYPE_I8: 0x11,\r\n\r\n  /*! < Type int8_t */\r\n  NVS_TYPE_U16: 0x02,\r\n\r\n  /*! < Type uint16_t */\r\n  NVS_TYPE_I16: 0x12,\r\n\r\n  /*! < Type int16_t */\r\n  NVS_TYPE_U32: 0x04,\r\n\r\n  /*! < Type uint32_t */\r\n  NVS_TYPE_I32: 0x14,\r\n\r\n  /*! < Type int32_t */\r\n  NVS_TYPE_U64: 0x08,\r\n\r\n  /*! < Type uint64_t */\r\n  NVS_TYPE_I64: 0x18,\r\n\r\n  /*! < Type int64_t */\r\n  NVS_TYPE_STR: 0x21,\r\n\r\n  /*! < Type string */\r\n  NVS_TYPE_BLOB: 0x42,\r\n\r\n  /*! < Type blob */\r\n  NVS_TYPE_ANY: 0xff /*! < Must be last */,\r\n};\r\nconst btIcons = {\r\n  bt_playing: {'label':'','icon': 'media_bluetooth_on'},\r\n  bt_disconnected: {'label':'','icon': 'media_bluetooth_off'},\r\n  bt_neutral: {'label':'','icon': 'bluetooth'},\r\n  bt_connecting: {'label':'','icon': 'bluetooth_searching'},\r\n  bt_connected: {'label':'','icon': 'bluetooth_connected'},\r\n  bt_disabled: {'label':'','icon': 'bluetooth_disabled'},\r\n  play_arrow: {'label':'','icon': 'play_circle_filled'},\r\n  pause: {'label':'','icon': 'pause_circle'},\r\n  stop: {'label':'','icon': 'stop_circle'},\r\n  '':  {'label':'','icon':''}\r\n};\r\nconst batIcons = [\r\n  { icon: \"battery_0_bar\", label:'▪', ranges: [{ f: 5.8, t: 6.8 }, { f: 8.8, t: 10.2 }] },\r\n  { icon: \"battery_2_bar\", label:'▪▪', ranges: [{ f: 6.8, t: 7.4 }, { f: 10.2, t: 11.1 }] },\r\n  { icon: \"battery_3_bar\", label:'▪▪▪', ranges: [{ f: 7.4, t: 7.5 }, { f: 11.1, t: 11.25 }] },\r\n  { icon: \"battery_4_bar\", label:'▪▪▪▪', ranges: [{ f: 7.5, t: 7.8 }, { f: 11.25, t: 11.7 }] }\r\n];\r\nconst btStateIcons = [\r\n  { desc: 'Idle', sub: ['bt_neutral'] },\r\n  { desc: 'Discovering', sub: ['bt_connecting'] },\r\n  { desc: 'Discovered', sub: ['bt_connecting'] },\r\n  { desc: 'Unconnected', sub: ['bt_disconnected'] },\r\n  { desc: 'Connecting', sub: ['bt_connecting'] },\r\n  {\r\n    desc: 'Connected',\r\n    sub: ['bt_connected', 'play_arrow', 'bt_playing', 'pause', 'stop'],\r\n  },\r\n  { desc: 'Disconnecting', sub: ['bt_disconnected'] },\r\n];\r\n\r\nconst pillcolors = {\r\n  MESSAGING_INFO: 'badge-success',\r\n  MESSAGING_WARNING: 'badge-warning',\r\n  MESSAGING_ERROR: 'badge-danger',\r\n};\r\nconst connectReturnCode = {\r\n  OK: 0,\r\n  FAIL: 1,\r\n  DISC: 2,\r\n  LOST: 3,\r\n  RESTORE: 4,\r\n  ETH: 5\r\n}\r\nconst taskStates = {\r\n  0: 'eRunning',\r\n  /*! < A task is querying the state of itself, so must be running. */\r\n  1: 'eReady',\r\n  /*! < The task being queried is in a read or pending ready list. */\r\n  2: 'eBlocked',\r\n  /*! < The task being queried is in the Blocked state. */\r\n  3: 'eSuspended',\r\n  /*! < The task being queried is in the Suspended state, or is in the Blocked state with an infinite time out. */\r\n  4: 'eDeleted',\r\n};\r\nlet flashState = {\r\n  NONE: 0,\r\n  REBOOT_TO_RECOVERY: 2,\r\n  SET_FWURL: 5,\r\n  FLASHING: 6,\r\n  DONE: 7,\r\n  UPLOADING: 8,\r\n  ERROR: 9,\r\n  UPLOADCOMPLETE: 10,\r\n  _state: -1,\r\n  olderRecovery: false,\r\n  statusText: '',\r\n  flashURL: '',\r\n  flashFileName: '',\r\n  statusPercent: 0,\r\n  Completed: false,\r\n  recovery: false,\r\n  prevRecovery: false,\r\n  updateModal: new bootstrap.Modal(document.getElementById('otadiv'), {}),\r\n  reset: function () {\r\n\r\n    this.olderRecovery = false;\r\n    this.statusText = '';\r\n    this.statusPercent = -1;\r\n    this.flashURL = '';\r\n    this.flashFileName = undefined;\r\n    this.UpdateProgress();\r\n    $('#rTable tr.release').removeClass('table-success table-warning');\r\n    $('.flact').prop('disabled', false);\r\n    $('#flashfilename').value = null;\r\n    $('#fw-url-input').value = null;\r\n    if(!this.isStateError()){\r\n      $('span#flash-status').html('');\r\n      $('#fwProgressLabel').parent().removeClass('bg-danger');\r\n    }\r\n    this._state = this.NONE\r\n    return this;\r\n  },\r\n  isStateUploadComplete: function () {\r\n    return this._state == this.UPLOADCOMPLETE;\r\n  },\r\n  isStateError: function () {\r\n    return this._state == this.ERROR;\r\n  },\r\n  isStateNone: function () {\r\n    return this._state == this.NONE;\r\n  },\r\n  isStateRebootRecovery: function () {\r\n    return this._state == this.REBOOT_TO_RECOVERY;\r\n  },\r\n  isStateSetUrl: function () {\r\n    return this._state == this.SET_FWURL;\r\n  },\r\n  isStateFlashing: function () {\r\n    return this._state == this.FLASHING;\r\n  },\r\n  isStateDone: function () {\r\n    return this._state == this.DONE;\r\n  },\r\n  isStateUploading: function () {\r\n    return this._state == this.UPLOADING;\r\n  },\r\n  init: function () {\r\n    this._state = this.NONE;\r\n    return this;\r\n  },\r\n\r\n  SetStateError: function () {\r\n    this._state = this.ERROR;\r\n    $('#fwProgressLabel').parent().addClass('bg-danger');\r\n    return this;\r\n  },\r\n  SetStateNone: function () {\r\n    this._state = this.NONE;\r\n    return this;\r\n  },\r\n  SetStateRebootRecovery: function () {\r\n    this._state = this.REBOOT_TO_RECOVERY;\r\n    // Reboot system to recovery mode\r\n    this.SetStatusText('Starting recovery mode.')\r\n    $.ajax({\r\n      url: '/recovery.json',\r\n      context: this,\r\n      dataType: 'text',\r\n      method: 'POST',\r\n      cache: false,\r\n      contentType: 'application/json; charset=utf-8',\r\n      data: JSON.stringify({\r\n        timestamp: Date.now(),\r\n      }),\r\n      error: function (xhr, _ajaxOptions, thrownError) {\r\n        this.setOTAError(`Unexpected error while trying to restart to recovery. (status=${xhr.status ?? ''}, error=${thrownError ?? ''} ) `);\r\n      },\r\n      complete: function (response) {\r\n        this.SetStatusText('Waiting for system to boot.')\r\n      },\r\n    });\r\n    return this;\r\n  },\r\n  SetStateSetUrl: function () {\r\n    this._state = this.SET_FWURL;\r\n    this.statusText = 'Sending firmware download location.';\r\n    let confData = {\r\n      fwurl: {\r\n        value: this.flashURL,\r\n        type: 33,\r\n      }\r\n    };\r\n    post_config(confData);\r\n    return this;\r\n  },\r\n  SetStateFlashing: function () {\r\n    this._state = this.FLASHING;\r\n    return this;\r\n  },\r\n  SetStateDone: function () {\r\n    this._state = this.DONE;\r\n    this.reset();\r\n    return this;\r\n  },\r\n  SetStateUploading: function () {\r\n    this._state = this.UPLOADING;\r\n    return this.SetStatusText('Sending file to device.');\r\n  },\r\n  SetStateUploadComplete: function () {\r\n    this._state = this.UPLOADCOMPLETE;\r\n    return this;\r\n  },\r\n\r\n  isFlashExecuting: function () {\r\n    return true === (this._state != this.UPLOADING && (this.statusText !== '' || this.statusPercent >= 0));\r\n  },\r\n\r\n\r\n\r\n  toString: function () {\r\n    let keys = Object.keys(this);\r\n    return keys.find(x => this[x] === this._state);\r\n  },\r\n\r\n  setOTATargets: function () {\r\n    this.flashURL = '';\r\n    this.flashFileName = '';\r\n    this.flashURL = $('#fw-url-input').val();\r\n    let fileInput = $('#flashfilename')[0].files;\r\n    if (fileInput.length > 0) {\r\n      this.flashFileName = fileInput[0];\r\n    }\r\n    if (this.flashFileName.length == 0 && this.flashURL.length == 0) {\r\n      this.setOTAError('Invalid url or file. Cannot start OTA');\r\n    }\r\n    return this;\r\n  },\r\n\r\n  setOTAError: function (message) {\r\n    this.SetStateError().SetStatusPercent(0).SetStatusText(message).reset();\r\n    return this;\r\n  },\r\n\r\n  ShowDialog: function () {\r\n    if (!this.isStateNone()) {\r\n      this.updateModal.show();\r\n      $('.flact').prop('disabled', true);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  SetStatusPercent: function (pct) {\r\n    var pctChanged = (this.statusPercent != pct);\r\n    this.statusPercent = pct;\r\n    if (pctChanged) {\r\n      if (!this.isStateUploading() && !this.isStateFlashing()) {\r\n        this.SetStateFlashing();\r\n      }\r\n      if (pct == 100) {\r\n        if (this.isStateFlashing()) {\r\n          this.SetStateDone();\r\n        }\r\n        else if (this.isStateUploading()) {\r\n          this.statusPercent = 0;\r\n          this.SetStateFlashing();\r\n        }\r\n      }\r\n      this.UpdateProgress().ShowDialog();\r\n    }\r\n    return this;\r\n  },\r\n  SetStatusText: function (txt) {\r\n    var changed = (this.statusText != txt);\r\n    this.statusText = txt;\r\n    if (changed) {\r\n      $('span#flash-status').html(this.statusText);\r\n      this.ShowDialog();\r\n    }\r\n\r\n    return this;\r\n  },\r\n  UpdateProgress: function () {\r\n    $('.progress-bar')\r\n      .css('width', this.statusPercent + '%')\r\n      .attr('aria-valuenow', this.statusPercent)\r\n      .text(this.statusPercent + '%')\r\n    $('.progress-bar').html((this.isStateDone() ? 100 : this.statusPercent) + '%');\r\n    return this;\r\n  },\r\n  StartOTA: function () {\r\n    this.logEvent(this.StartOTA.name);\r\n    $('#fwProgressLabel').parent().removeClass('bg-danger');\r\n    this.setOTATargets();\r\n    if (this.isStateError()) {\r\n      return this;\r\n    }\r\n    if (!recovery) {\r\n      this.SetStateRebootRecovery();\r\n    }\r\n    else {\r\n      this.SetStateFlashing().TargetReadyStartOTA();\r\n    }\r\n\r\n    return this;\r\n  },\r\n  UploadLocalFile: function () {\r\n    this.SetStateUploading();\r\n    const xhttp = new XMLHttpRequest();\r\n    xhttp.context = this;\r\n    var boundHandleUploadProgressEvent = this.HandleUploadProgressEvent.bind(this);\r\n    var boundsetOTAError=this.setOTAError.bind(this);\r\n    xhttp.upload.addEventListener(\"progress\",boundHandleUploadProgressEvent, false);\r\n    xhttp.onreadystatechange = function () {\r\n      if (xhttp.readyState === 4) {\r\n        if (xhttp.status === 0 || xhttp.status === 404) {\r\n          boundsetOTAError(`Upload Failed. Recovery version might not support uploading. Please use web update instead.`);\r\n        }\r\n      }\r\n    };\r\n    xhttp.open('POST', '/flash.json', true);\r\n    xhttp.send(this.flashFileName);\r\n  },\r\n  TargetReadyStartOTA: function () {\r\n    if (recovery && this.prevRecovery && !this.isStateRebootRecovery() && !this.isStateFlashing()) {\r\n      // this should only execute once, while being in a valid state\r\n      return this;\r\n    }\r\n\r\n    this.logEvent(this.TargetReadyStartOTA.name);\r\n    if (!recovery) {\r\n      console.error('Event TargetReadyStartOTA fired in the wrong mode ');\r\n      return this;\r\n    }\r\n    this.prevRecovery = true;\r\n\r\n    if (this.flashFileName !== '') {\r\n      this.UploadLocalFile();\r\n    }\r\n    else if (this.flashURL != '') {\r\n      this.SetStateSetUrl();\r\n    }\r\n    else {\r\n      this.setOTAError('Invalid URL or file name while trying to start the OTa process')\r\n    }\r\n  },\r\n  HandleUploadProgressEvent: function (data) {\r\n    this.logEvent(this.HandleUploadProgressEvent.name);\r\n    this.SetStateUploading().SetStatusPercent(Math.round(data.loaded / data.total * 100)).SetStatusText('Uploading file to device');\r\n  },\r\n  EventTargetStatus: function (data) {\r\n    if (!this.isStateNone()) {\r\n      this.logEvent(this.EventTargetStatus.name);\r\n    }\r\n    if (data.ota_pct ?? -1 >= 0) {\r\n      this.olderRecovery = true;\r\n      this.SetStatusPercent(data.ota_pct);\r\n    }\r\n    if ((data.ota_dsc ?? '') != '') {\r\n      this.olderRecovery = true;\r\n      this.SetStatusText(data.ota_dsc);\r\n    }\r\n\r\n    if (data.recovery != undefined) {\r\n      this.recovery = data.recovery === 1 ? true : false;\r\n    }\r\n    if (this.isStateRebootRecovery() && this.recovery) {\r\n      this.TargetReadyStartOTA();\r\n    }\r\n  },\r\n  EventOTAMessageClass: function (data) {\r\n    this.logEvent(this.EventOTAMessageClass.name);\r\n    var otaData = JSON.parse(data);\r\n    this.SetStatusPercent(otaData.ota_pct).SetStatusText(otaData.ota_dsc);\r\n  },\r\n  logEvent: function (fun) {\r\n    console.log(`${fun}, flash state ${this.toString()}, recovery: ${this.recovery}, ota pct: ${this.statusPercent}, ota desc: ${this.statusText}`);\r\n  }\r\n\r\n};\r\nwindow.hideSurrounding = function (obj) {\r\n  $(obj).parent().parent().hide();\r\n}\r\n\r\nlet presetsloaded = false;\r\nlet is_i2c_locked = false;\r\nlet statusInterval = 2000;\r\nlet messageInterval = 2500;\r\nfunction post_config(data) {\r\n  let confPayload = {\r\n    timestamp: Date.now(),\r\n    config: data\r\n  };\r\n  $.ajax({\r\n    url: '/config.json',\r\n    dataType: 'text',\r\n    method: 'POST',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify(confPayload),\r\n    error: handleExceptionResponse,\r\n  });\r\n}\r\n\r\n\r\nwindow.hFlash = function () {\r\n  // reset file upload selection if any;\r\n  $('#flashfilename').value = null\r\n  flashState.StartOTA();\r\n}\r\nwindow.handleReboot = function (link) {\r\n  if (link == 'reboot_ota') {\r\n    $('#reboot_ota_nav').removeClass('active').prop(\"disabled\", true); delayReboot(500, '', 'reboot_ota');\r\n  }\r\n  else {\r\n    $('#reboot_nav').removeClass('active'); delayReboot(500, '', link);\r\n  }\r\n}\r\nfunction isConnected(){\r\n  return ConnectedTo.ip && ConnectedTo.ip!='0.0.0.0';\r\n}\r\nfunction getIcon(icons){\r\n  return isConnected()?icons.icon:icons.label;\r\n}\r\nfunction handlebtstate(data) {\r\n  let icon = '';\r\n  let tt = '';\r\n  if (data.bt_status !== undefined && data.bt_sub_status !== undefined) {\r\n    const iconindex = btStateIcons[data.bt_status].sub[data.bt_sub_status];\r\n    if (iconindex) {\r\n      icon =  btIcons[iconindex];\r\n      tt = btStateIcons[data.bt_status].desc;\r\n    } else {\r\n      icon = btIcons.bt_connected;\r\n      tt = 'Output status';\r\n    }\r\n  }\r\n\r\n  $('#o_type').attr('title', tt);\r\n  $('#o_bt').html(isConnected()?icon.label:icon.text);\r\n}\r\nfunction handleTemplateTypeRadio(outtype) {\r\n  $('#o_type').children('span').css({ display: 'none' });\r\n  if (outtype === 'bt') {\r\n    output = 'bt';\r\n  } else if (outtype === 'spdif') {\r\n    output = 'spdif';\r\n  } else {\r\n    output = 'i2s';\r\n  }\r\n  $('#' + output).prop('checked', true);\r\n  $('#o_' + output).css({ display: 'inline' });\r\n}\r\n\r\nfunction handleExceptionResponse(xhr, _ajaxOptions, thrownError) {\r\n  console.log(xhr.status);\r\n  console.log(thrownError);\r\n  if (thrownError !== '') {\r\n    showLocalMessage(thrownError, 'MESSAGING_ERROR');\r\n  }\r\n}\r\nfunction HideCmdMessage(cmdname) {\r\n  $('#toast_' + cmdname)\r\n    .removeClass('table-success')\r\n    .removeClass('table-warning')\r\n    .removeClass('table-danger')\r\n    .addClass('table-success')\r\n    .removeClass('show');\r\n  $('#msg_' + cmdname).html('');\r\n}\r\nfunction showCmdMessage(cmdname, msgtype, msgtext, append = false) {\r\n  let color = 'table-success';\r\n  if (msgtype === 'MESSAGING_WARNING') {\r\n    color = 'table-warning';\r\n  } else if (msgtype === 'MESSAGING_ERROR') {\r\n    color = 'table-danger';\r\n  }\r\n  $('#toast_' + cmdname)\r\n    .removeClass('table-success')\r\n    .removeClass('table-warning')\r\n    .removeClass('table-danger')\r\n    .addClass(color)\r\n    .addClass('show');\r\n  let escapedtext = msgtext\r\n    .substring(0, msgtext.length - 1)\r\n    .encodeHTML()\r\n    .replace(/\\n/g, '<br />');\r\n  escapedtext =\r\n    ($('#msg_' + cmdname).html().length > 0 && append\r\n      ? $('#msg_' + cmdname).html() + '<br/>'\r\n      : '') + escapedtext;\r\n  $('#msg_' + cmdname).html(escapedtext);\r\n}\r\n\r\nlet releaseURL =\r\n  'https://api.github.com/repos/sle118/squeezelite-esp32/releases';\r\n\r\nlet recovery = false;\r\nlet messagesHeld = false;\r\nconst commandHeader = 'squeezelite -b 500:2000 -d all=info -C 30 -W';\r\n//let blockFlashButton = false;\r\nlet apList = null;\r\n//let selectedSSID = '';\r\n//let checkStatusInterval = null;\r\nlet messagecount = 0;\r\nlet messageseverity = 'MESSAGING_INFO';\r\nlet SystemConfig = {};\r\nlet LastCommandsState = null;\r\nvar output = '';\r\nlet hostName = '';\r\nlet versionName = 'Squeezelite-ESP32';\r\nlet prevmessage = '';\r\nlet project_name = versionName;\r\nlet board_model = '';\r\nlet platform_name = versionName;\r\nlet preset_name = '';\r\nlet btSinkNamesOptSel = '#cfg-audio-bt_source-sink_name';\r\nlet ConnectedTo = {};\r\nlet ConnectingToSSID = {};\r\nlet lmsBaseUrl;\r\nlet prevLMSIP = '';\r\nconst ConnectingToActions = {\r\n  'CONN': 0, 'MAN': 1, 'STS': 2,\r\n}\r\n\r\nPromise.prototype.delay = function (duration) {\r\n  return this.then(\r\n    function (value) {\r\n      return new Promise(function (resolve) {\r\n        setTimeout(function () {\r\n          resolve(value);\r\n        }, duration);\r\n      });\r\n    },\r\n    function (reason) {\r\n      return new Promise(function (_resolve, reject) {\r\n        setTimeout(function () {\r\n          reject(reason);\r\n        }, duration);\r\n      });\r\n    }\r\n  );\r\n};\r\n\r\nfunction getConfigJson(slimMode) {\r\n  const config = {};\r\n  $('input.nvs').each(function (_index, entry) {\r\n    if (!slimMode) {\r\n      const nvsType = parseInt(entry.attributes.nvs_type.value, 10);\r\n      if (entry.id !== '') {\r\n        config[entry.id] = {};\r\n        if (\r\n          nvsType === nvsTypes.NVS_TYPE_U8 ||\r\n          nvsType === nvsTypes.NVS_TYPE_I8 ||\r\n          nvsType === nvsTypes.NVS_TYPE_U16 ||\r\n          nvsType === nvsTypes.NVS_TYPE_I16 ||\r\n          nvsType === nvsTypes.NVS_TYPE_U32 ||\r\n          nvsType === nvsTypes.NVS_TYPE_I32 ||\r\n          nvsType === nvsTypes.NVS_TYPE_U64 ||\r\n          nvsType === nvsTypes.NVS_TYPE_I64\r\n        ) {\r\n          config[entry.id].value = parseInt(entry.value);\r\n        } else {\r\n          config[entry.id].value = entry.value;\r\n        }\r\n        config[entry.id].type = nvsType;\r\n      }\r\n    } else {\r\n      config[entry.id] = entry.value;\r\n    }\r\n  });\r\n  const key = $('#nvs-new-key').val();\r\n  const val = $('#nvs-new-value').val();\r\n  if (key !== '') {\r\n    if (!slimMode) {\r\n      config[key] = {};\r\n      config[key].value = val;\r\n      config[key].type = 33;\r\n    } else {\r\n      config[key] = val;\r\n    }\r\n  }\r\n  return config;\r\n}\r\n\r\nfunction handleHWPreset(allfields, reboot) {\r\n\r\n  const selJson = JSON.parse(allfields[0].value);\r\n  var cmd = allfields[0].attributes.cmdname.value;\r\n\r\n  console.log(`selected model: ${selJson.name}`);\r\n  let confPayload = {\r\n    timestamp: Date.now(),\r\n    config: { model_config: { value: selJson.name, type: 33 } }\r\n  };\r\n  for (const [name, value] of Object.entries(selJson.config)) {\r\n    const storedval = (typeof value === 'string' || value instanceof String) ? value : JSON.stringify(value);\r\n    confPayload.config[name] = {\r\n      value: storedval,\r\n      type: 33,\r\n    }\r\n    showCmdMessage(\r\n      cmd,\r\n      'MESSAGING_INFO',\r\n      `Setting ${name}=${storedval} `,\r\n      true\r\n    );\r\n  }\r\n\r\n  showCmdMessage(\r\n    cmd,\r\n    'MESSAGING_INFO',\r\n    `Committing `,\r\n    true\r\n  );\r\n  $.ajax({\r\n    url: '/config.json',\r\n    dataType: 'text',\r\n    method: 'POST',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify(confPayload),\r\n    error: function (xhr, _ajaxOptions, thrownError) {\r\n      handleExceptionResponse(xhr, _ajaxOptions, thrownError);\r\n      showCmdMessage(\r\n        cmd,\r\n        'MESSAGING_ERROR',\r\n        `Unexpected error ${(thrownError !== '') ? thrownError : 'with return status = ' + xhr.status} `,\r\n        true\r\n      );\r\n    },\r\n    success: function (response) {\r\n      showCmdMessage(\r\n        cmd,\r\n        'MESSAGING_INFO',\r\n        `Saving complete `,\r\n        true\r\n      );\r\n      console.log(response);\r\n      if (reboot) {\r\n        delayReboot(2500, cmd);\r\n      }\r\n    },\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n// pull json file from https://gist.githubusercontent.com/sle118/dae585e157b733a639c12dc70f0910c5/raw/b462691f69e2ad31ac95c547af6ec97afb0f53db/squeezelite-esp32-presets.json and\r\nfunction loadPresets() {\r\n  if ($(\"#cfg-hw-preset-model_config\").length == 0) return;\r\n  if (presetsloaded) return;\r\n  presetsloaded = true;\r\n  $('#cfg-hw-preset-model_config').html('<option>--</option>');\r\n  $.getJSON(\r\n    'https://gist.githubusercontent.com/sle118/dae585e157b733a639c12dc70f0910c5/raw/',\r\n    { _: new Date().getTime() },\r\n    function (data) {\r\n      $.each(data, function (key, val) {\r\n        $('#cfg-hw-preset-model_config').append(`<option value='${JSON.stringify(val).replace(/\"/g, '\\\"').replace(/\\'/g, '\\\"')}'>${val.name}</option>`);\r\n        if (preset_name !== '' && preset_name == val.name) {\r\n          $('#cfg-hw-preset-model_config').val(preset_name);\r\n        }\r\n      });\r\n      if (preset_name !== '') {\r\n        ('#prev_preset').show().val(preset_name);\r\n      }\r\n    }\r\n\r\n  ).fail(function (jqxhr, textStatus, error) {\r\n    const err = textStatus + ', ' + error;\r\n    console.log('Request Failed: ' + err);\r\n  }\r\n  );\r\n}\r\n\r\nfunction delayReboot(duration, cmdname, ota = 'reboot') {\r\n  const url = '/' + ota + '.json';\r\n  $('tbody#tasks').empty();\r\n  $('#tasks_sect').css('visibility', 'collapse');\r\n  Promise.resolve({ cmdname: cmdname, url: url })\r\n    .delay(duration)\r\n    .then(function (data) {\r\n      if (data.cmdname.length > 0) {\r\n        showCmdMessage(\r\n          data.cmdname,\r\n          'MESSAGING_WARNING',\r\n          'System is rebooting.\\n',\r\n          true\r\n        );\r\n      } else {\r\n        showLocalMessage('System is rebooting.\\n', 'MESSAGING_WARNING');\r\n      }\r\n      console.log('now triggering reboot');\r\n      $(\"button[onclick*='handleReboot']\").addClass('rebooting');\r\n      $.ajax({\r\n        url: data.url,\r\n        dataType: 'text',\r\n        method: 'POST',\r\n        cache: false,\r\n        contentType: 'application/json; charset=utf-8',\r\n        data: JSON.stringify({\r\n          timestamp: Date.now(),\r\n        }),\r\n        error: handleExceptionResponse,\r\n        complete: function () {\r\n          console.log('reboot call completed');\r\n          Promise.resolve(data)\r\n            .delay(6000)\r\n            .then(function (rdata) {\r\n              if (rdata.cmdname.length > 0) {\r\n                HideCmdMessage(rdata.cmdname);\r\n              }\r\n              getCommands();\r\n              getConfig();\r\n            });\r\n        },\r\n      });\r\n    });\r\n}\r\n// eslint-disable-next-line no-unused-vars\r\nwindow.saveAutoexec1 = function (apply) {\r\n  showCmdMessage('cfg-audio-tmpl', 'MESSAGING_INFO', 'Saving.\\n', false);\r\n  let commandLine = commandHeader + ' -n \"' + $('#player').val() + '\"';\r\n  if (output === 'bt') {\r\n    commandLine += ' -o \"BT\" -R -Z 192000';\r\n    showCmdMessage(\r\n      'cfg-audio-tmpl',\r\n      'MESSAGING_INFO',\r\n      'Remember to configure the Bluetooth audio device name.\\n',\r\n      true\r\n    );\r\n  } else if (output === 'spdif') {\r\n    commandLine += ' -o SPDIF -Z 192000';\r\n  } else {\r\n    commandLine += ' -o I2S';\r\n  }\r\n  if ($('#optional').val() !== '') {\r\n    commandLine += ' ' + $('#optional').val();\r\n  }\r\n  const data = {\r\n    timestamp: Date.now(),\r\n  };\r\n  data.config = {\r\n    autoexec1: { value: commandLine, type: 33 },\r\n    autoexec: {\r\n      value: $('#disable-squeezelite').prop('checked') ? '0' : '1',\r\n      type: 33,\r\n    },\r\n  };\r\n\r\n  $.ajax({\r\n    url: '/config.json',\r\n    dataType: 'text',\r\n    method: 'POST',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify(data),\r\n    error: handleExceptionResponse,\r\n    complete: function (response) {\r\n      if (\r\n        response.responseText &&\r\n        JSON.parse(response.responseText).result === 'OK'\r\n      ) {\r\n        showCmdMessage('cfg-audio-tmpl', 'MESSAGING_INFO', 'Done.\\n', true);\r\n        if (apply) {\r\n          delayReboot(1500, 'cfg-audio-tmpl');\r\n        }\r\n      } else if (JSON.parse(response.responseText).result) {\r\n        showCmdMessage(\r\n          'cfg-audio-tmpl',\r\n          'MESSAGING_WARNING',\r\n          JSON.parse(response.responseText).Result + '\\n',\r\n          true\r\n        );\r\n      } else {\r\n        showCmdMessage(\r\n          'cfg-audio-tmpl',\r\n          'MESSAGING_ERROR',\r\n          response.statusText + '\\n'\r\n        );\r\n      }\r\n      console.log(response.responseText);\r\n    },\r\n  });\r\n  console.log('sent data:', JSON.stringify(data));\r\n}\r\nwindow.handleDisconnect = function () {\r\n  $.ajax({\r\n    url: '/connect.json',\r\n    dataType: 'text',\r\n    method: 'DELETE',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify({\r\n      timestamp: Date.now(),\r\n    }),\r\n  });\r\n}\r\nfunction setPlatformFilter(val) {\r\n  if ($('.upf').filter(function () { return $(this).text().toUpperCase() === val.toUpperCase() }).length > 0) {\r\n    $('#splf').val(val).trigger('input');\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nwindow.handleConnect = function () {\r\n  ConnectingToSSID.ssid = $('#manual_ssid').val();\r\n  ConnectingToSSID.pwd = $('#manual_pwd').val();\r\n  ConnectingToSSID.dhcpname = $('#dhcp-name2').val();\r\n  $(\"*[class*='connecting']\").hide();\r\n  $('#ssid-wait').text(ConnectingToSSID.ssid);\r\n  $('.connecting').show();\r\n  $.ajax({\r\n    url: '/connect.json',\r\n    dataType: 'text',\r\n    method: 'POST',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify({\r\n      timestamp: Date.now(),\r\n      ssid: ConnectingToSSID.ssid,\r\n      pwd: ConnectingToSSID.pwd\r\n    }),\r\n    error: handleExceptionResponse,\r\n  });\r\n\r\n  // now we can re-set the intervals regardless of result\r\n\r\n}\r\n$(document).ready(function () {\r\n  $('.material-icons').each(function (_index, entry) {\r\n    entry.attributes['icon']=entry.textContent;\r\n  });\r\n  setIcons(true);\r\n  handleNVSVisible();\r\n  flashState.init();\r\n  $('#fw-url-input').on('input', function () {\r\n    if ($(this).val().length > 8 && ($(this).val().startsWith('http://') || $(this).val().startsWith('https://'))) {\r\n      $('#start-flash').show();\r\n    }\r\n    else {\r\n      $('#start-flash').hide();\r\n    }\r\n  });\r\n  $('.upSrch').on('input', function () {\r\n    const val = this.value;\r\n    $(\"#rTable tr\").removeClass(this.id + '_hide');\r\n    if (val.length > 0) {\r\n      $(`#rTable td:nth-child(${$(this).parent().index() + 1})`).filter(function () {\r\n        return !$(this).text().toUpperCase().includes(val.toUpperCase());\r\n      }).parent().addClass(this.id + '_hide');\r\n    }\r\n    $('[class*=\"_hide\"]').hide();\r\n    $('#rTable tr').not('[class*=\"_hide\"]').show()\r\n\r\n  });\r\n  setTimeout(refreshAP, 1500);\r\n\r\n  $('#WifiConnectDialog')[0].addEventListener('shown.bs.modal', function (event) {\r\n    $(\"*[class*='connecting']\").hide();\r\n\r\n    if (event?.relatedTarget) {\r\n      ConnectingToSSID.Action = ConnectingToActions.CONN;\r\n      if ($(event.relatedTarget).children('td:eq(1)').text() == ConnectedTo.ssid) {\r\n        ConnectingToSSID.Action = ConnectingToActions.STS;\r\n      }\r\n      else {\r\n        if (!$(event.relatedTarget).is(':last-child')) {\r\n          ConnectingToSSID.ssid = $(event.relatedTarget).children('td:eq(1)').text();\r\n          $('#manual_ssid').val(ConnectingToSSID.ssid);\r\n        }\r\n        else {\r\n          ConnectingToSSID.Action = ConnectingToActions.MAN;\r\n          ConnectingToSSID.ssid = '';\r\n          $('#manual_ssid').val(ConnectingToSSID.ssid);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    if (ConnectingToSSID.Action !== ConnectingToActions.STS) {\r\n      $('.connecting-init').show();\r\n      $('#manual_ssid').trigger('focus');\r\n    }\r\n    else {\r\n      handleWifiDialog();\r\n    }\r\n  });\r\n\r\n  $('#WifiConnectDialog')[0].addEventListener('hidden.bs.modal', function () {\r\n    $('#WifiConnectDialog input').val('');\r\n  });\r\n\r\n  $('#uCnfrm')[0].addEventListener('shown.bs.modal', function () {\r\n    $('#selectedFWURL').text($('#fw-url-input').val());\r\n  });\r\n\r\n  $('input#show-commands')[0].checked = LastCommandsState === 1;\r\n  $('a[href^=\"#tab-commands\"]').hide();\r\n  $('#load-nvs').on('click', function () {\r\n    $('#nvsfilename').trigger('click');\r\n  });\r\n  $('#nvsfilename').on('change', function () {\r\n    if (typeof window.FileReader !== 'function') {\r\n      throw \"The file API isn't supported on this browser.\";\r\n    }\r\n    if (!this.files) {\r\n      throw 'This browser does not support the `files` property of the file input.';\r\n    }\r\n    if (!this.files[0]) {\r\n      return undefined;\r\n    }\r\n\r\n    const file = this.files[0];\r\n    let fr = new FileReader();\r\n    fr.onload = function (e) {\r\n      let data = {};\r\n      try {\r\n        data = JSON.parse(e.target.result);\r\n      } catch (ex) {\r\n        alert('Parsing failed!\\r\\n ' + ex);\r\n      }\r\n      $('input.nvs').each(function (_index, entry) {\r\n        $(this).parent().removeClass('bg-warning').removeClass('bg-success');\r\n        if (data[entry.id]) {\r\n          if (data[entry.id] !== entry.value) {\r\n            console.log(\r\n              'Changed ' + entry.id + ' ' + entry.value + '==>' + data[entry.id]\r\n            );\r\n            $(this).parent().addClass('bg-warning');\r\n            $(this).val(data[entry.id]);\r\n          }\r\n          else {\r\n            $(this).parent().addClass('bg-success');\r\n          }\r\n        }\r\n      });\r\n      var changed = $(\"input.nvs\").children('.bg-warning');\r\n      if (changed) {\r\n        alert('Highlighted values were changed. Press Commit to change on the device');\r\n      }\r\n    }\r\n    fr.readAsText(file);\r\n    this.value = null;\r\n\r\n  }\r\n  );\r\n  $('#clear-syslog').on('click', function () {\r\n    messagecount = 0;\r\n    messageseverity = 'MESSAGING_INFO';\r\n    $('#msgcnt').text('');\r\n    $('#syslogTable').html('');\r\n  });\r\n\r\n  $('#ok-credits').on('click', function () {\r\n    $('#credits').slideUp('fast', function () { });\r\n    $('#app').slideDown('fast', function () { });\r\n  });\r\n\r\n  $('#acredits').on('click', function (event) {\r\n    event.preventDefault();\r\n    $('#app').slideUp('fast', function () { });\r\n    $('#credits').slideDown('fast', function () { });\r\n  });\r\n\r\n  $('input#show-commands').on('click', function () {\r\n    this.checked = this.checked ? 1 : 0;\r\n    if (this.checked) {\r\n      $('a[href^=\"#tab-commands\"]').show();\r\n      LastCommandsState = 1;\r\n    } else {\r\n      LastCommandsState = 0;\r\n      $('a[href^=\"#tab-commands\"]').hide();\r\n    }\r\n  });\r\n\r\n  $('input#show-nvs').on('click', function () {\r\n    this.checked = this.checked ? 1 : 0;\r\n    Cookies.set(\"show-nvs\", this.checked?'Y':'N');\r\n    handleNVSVisible();\r\n  });\r\n  $('#btn_reboot_recovery').on('click', function () {\r\n    handleReboot('recovery');\r\n  });\r\n  $('#btn_reboot').on('click', function () {\r\n    handleReboot('reboot');\r\n  });\r\n  $('#btn_flash').on('click', function () {\r\n    hFlash();\r\n  });\r\n  $('#save-autoexec1').on('click', function () {\r\n    saveAutoexec1(false);\r\n  });\r\n  $('#commit-autoexec1').on('click', function () {\r\n    saveAutoexec1(true);\r\n  });\r\n  $('#btn_disconnect').on('click', function () {\r\n    ConnectedTo={};\r\n    refreshAPHTML2();\r\n    $.ajax({\r\n      url: '/connect.json',\r\n      dataType: 'text',\r\n      method: 'DELETE',\r\n      cache: false,\r\n      contentType: 'application/json; charset=utf-8',\r\n      data: JSON.stringify({\r\n        timestamp: Date.now(),\r\n      }),\r\n    });\r\n  });\r\n  $('#btnJoin').on('click', function () {\r\n    handleConnect();\r\n  });\r\n  $('#reboot_nav').on('click', function () {\r\n    handleReboot('reboot');\r\n  });\r\n  $('#reboot_ota_nav').on('click', function () {\r\n    handleReboot('reboot_ota');\r\n  });\r\n\r\n  $('#save-as-nvs').on('click', function () {\r\n    const config = getConfigJson(true);\r\n    const a = document.createElement('a');\r\n    a.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(config, null, 2)], {\r\n        type: 'text/plain',\r\n      })\r\n    );\r\n    a.setAttribute(\r\n      'download',\r\n      'nvs_config_' + hostName + '_' + Date.now() + 'json'\r\n    );\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n  });\r\n\r\n  $('#save-nvs').on('click', function () {\r\n    post_config(getConfigJson(false));\r\n  });\r\n\r\n  $('#fwUpload').on('click', function () {\r\n    const fileInput = document.getElementById('flashfilename').files;\r\n    if (fileInput.length === 0) {\r\n      alert('No file selected!');\r\n    } else {\r\n      $('#fw-url-input').value = null;\r\n      flashState.StartOTA();\r\n    }\r\n\r\n  });\r\n  $('[name=output-tmpl]').on('click', function () {\r\n    handleTemplateTypeRadio(this.id);\r\n  });\r\n\r\n  $('#chkUpdates').on('click', function () {\r\n    $('#rTable').html('');\r\n    $.getJSON(releaseURL, function (data) {\r\n      let i = 0;\r\n      const branches = [];\r\n      data.forEach(function (release) {\r\n        const namecomponents = release.name.split('#');\r\n        const branch = namecomponents[3];\r\n        if (!branches.includes(branch)) {\r\n          branches.push(branch);\r\n        }\r\n      });\r\n      let fwb = '';\r\n      branches.forEach(function (branch) {\r\n        fwb += '<option value=\"' + branch + '\">' + branch + '</option>';\r\n      });\r\n      $('#fwbranch').append(fwb);\r\n\r\n      data.forEach(function (release) {\r\n        let url = '';\r\n        release.assets.forEach(function (asset) {\r\n          if (asset.name.match(/\\.bin$/)) {\r\n            url = asset.browser_download_url;\r\n          }\r\n        });\r\n        const namecomponents = release.name.split('#');\r\n        const ver = namecomponents[0];\r\n        const cfg = namecomponents[2];\r\n        const branch = namecomponents[3];\r\n        var bits = ver.substr(ver.lastIndexOf('-') + 1);\r\n        bits = (bits == '32' || bits == '16') ? bits : '';\r\n\r\n        let body = release.body;\r\n        body = body.replace(/'/gi, '\"');\r\n        body = body.replace(\r\n          /[\\s\\S]+(### Revision Log[\\s\\S]+)### ESP-IDF Version Used[\\s\\S]+/,\r\n          '$1'\r\n        );\r\n        body = body.replace(/- \\(.+?\\) /g, '- ').encodeHTML();\r\n        $('#rTable').append(`<tr class='release ' fwurl='${url}'>\r\n        <td data-bs-toggle='tooltip' title='${body}'>${ver}</td><td>${new Date(release.created_at).toLocalShort()}\r\n        </td><td class='upf'>${cfg}</td><td>${branch}</td><td>${bits}</td></tr>`\r\n        );\r\n      });\r\n      if (i > 7) {\r\n        $('#releaseTable').append(\r\n          \"<tr id='showall'>\" +\r\n          \"<td colspan='6'>\" +\r\n          \"<input type='button' id='showallbutton' class='btn btn-info' value='Show older releases' />\" +\r\n          '</td>' +\r\n          '</tr>'\r\n        );\r\n        $('#showallbutton').on('click', function () {\r\n          $('tr.hide').removeClass('hide');\r\n          $('tr#showall').addClass('hide');\r\n        });\r\n      }\r\n      $('#searchfw').css('display', 'inline');\r\n      if (!setPlatformFilter(platform_name)) {\r\n        setPlatformFilter(project_name)\r\n      }\r\n      $('#rTable tr.release').on('click', function () {\r\n        var url = this.attributes['fwurl'].value;\r\n        if (lmsBaseUrl) {\r\n          url = url.replace(/.*\\/download\\//, lmsBaseUrl + '/plugins/SqueezeESP32/firmware/');\r\n        }\r\n        $('#fw-url-input').val(url);\r\n        $('#start-flash').show();\r\n        $('#rTable tr.release').removeClass('table-success table-warning');\r\n        $(this).addClass('table-success table-warning');\r\n      });\r\n\r\n    }).fail(function () {\r\n      alert('failed to fetch release history!');\r\n    });\r\n  });\r\n  $('#fwcheck').on('click', function () {\r\n    $('#releaseTable').html('');\r\n    $('#fwbranch').empty();\r\n    $.getJSON(releaseURL, function (data) {\r\n      let i = 0;\r\n      const branches = [];\r\n      data.forEach(function (release) {\r\n        const namecomponents = release.name.split('#');\r\n        const branch = namecomponents[3];\r\n        if (!branches.includes(branch)) {\r\n          branches.push(branch);\r\n        }\r\n      });\r\n      let fwb;\r\n      branches.forEach(function (branch) {\r\n        fwb += '<option value=\"' + branch + '\">' + branch + '</option>';\r\n      });\r\n      $('#fwbranch').append(fwb);\r\n\r\n      data.forEach(function (release) {\r\n        let url = '';\r\n        release.assets.forEach(function (asset) {\r\n          if (asset.name.match(/\\.bin$/)) {\r\n            url = asset.browser_download_url;\r\n          }\r\n        });\r\n        const namecomponents = release.name.split('#');\r\n        const ver = namecomponents[0];\r\n        const idf = namecomponents[1];\r\n        const cfg = namecomponents[2];\r\n        const branch = namecomponents[3];\r\n\r\n        let body = release.body;\r\n        body = body.replace(/'/gi, '\"');\r\n        body = body.replace(\r\n          /[\\s\\S]+(### Revision Log[\\s\\S]+)### ESP-IDF Version Used[\\s\\S]+/,\r\n          '$1'\r\n        );\r\n        body = body.replace(/- \\(.+?\\) /g, '- ');\r\n        const trclass = i++ > 6 ? ' hide' : '';\r\n        $('#releaseTable').append(\r\n          \"<tr class='release\" +\r\n          trclass +\r\n          \"'>\" +\r\n          \"<td data-bs-toggle='tooltip' title='\" +\r\n          body +\r\n          \"'>\" +\r\n          ver +\r\n          '</td>' +\r\n          '<td>' +\r\n          new Date(release.created_at).toLocalShort() +\r\n          '</td>' +\r\n          '<td>' +\r\n          cfg +\r\n          '</td>' +\r\n          '<td>' +\r\n          idf +\r\n          '</td>' +\r\n          '<td>' +\r\n          branch +\r\n          '</td>' +\r\n          \"<td><input type='button' class='btn btn-success' value='Select' data-bs-url='\" +\r\n          url +\r\n          \"' onclick='setURL(this);' /></td>\" +\r\n          '</tr>'\r\n        );\r\n      });\r\n      if (i > 7) {\r\n        $('#releaseTable').append(\r\n          \"<tr id='showall'>\" +\r\n          \"<td colspan='6'>\" +\r\n          \"<input type='button' id='showallbutton' class='btn btn-info' value='Show older releases' />\" +\r\n          '</td>' +\r\n          '</tr>'\r\n        );\r\n        $('#showallbutton').on('click', function () {\r\n          $('tr.hide').removeClass('hide');\r\n          $('tr#showall').addClass('hide');\r\n        });\r\n      }\r\n      $('#searchfw').css('display', 'inline');\r\n    }).fail(function () {\r\n      alert('failed to fetch release history!');\r\n    });\r\n  });\r\n\r\n  $('#updateAP').on('click', function () {\r\n    refreshAP();\r\n    console.log('refresh AP');\r\n  });\r\n\r\n  // first time the page loads: attempt to get the connection status and start the wifi scan\r\n  getConfig();\r\n  getCommands();\r\n  getMessages();\r\n  checkStatus();\r\n\r\n});\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nwindow.setURL = function (button) {\r\n  let url = button.dataset.url;\r\n\r\n  $('[data-bs-url^=\"http\"]')\r\n    .addClass('btn-success')\r\n    .removeClass('btn-danger');\r\n  $('[data-bs-url=\"' + url + '\"]')\r\n    .addClass('btn-danger')\r\n    .removeClass('btn-success');\r\n\r\n  // if user can proxy download through LMS, modify the URL\r\n  if (lmsBaseUrl) {\r\n    url = url.replace(/.*\\/download\\//, lmsBaseUrl + '/plugins/SqueezeESP32/firmware/');\r\n  }\r\n\r\n  $('#fwurl').val(url);\r\n}\r\n\r\n\r\nfunction rssiToIcon(rssi) {\r\n  if (rssi >= -55) {\r\n    return {'label':'****','icon':`signal_wifi_statusbar_4_bar`};\r\n  } else if (rssi >= -60) {\r\n    return {'label':'***','icon':`network_wifi_3_bar`};\r\n  } else if (rssi >= -65) {\r\n    return {'label':'**','icon':`network_wifi_2_bar`};\r\n  } else if (rssi >= -70) {\r\n    return {'label':'*','icon':`network_wifi_1_bar`};\r\n  } else {\r\n    return {'label':'.','icon':`signal_wifi_statusbar_null`};\r\n  }\r\n}\r\n\r\nfunction refreshAP() {\r\n  if (ConnectedTo?.urc === connectReturnCode.ETH) return;\r\n  $.ajaxSetup({\r\n    timeout: 3000 //Time in milliseconds\r\n  });\r\n  $.getJSON('/scan.json', async function () {\r\n    await sleep(2000);\r\n    $.getJSON('/ap.json', function (data) {\r\n      if (data.length > 0) {\r\n        // sort by signal strength\r\n        data.sort(function (a, b) {\r\n          const x = a.rssi;\r\n          const y = b.rssi;\r\n          // eslint-disable-next-line no-nested-ternary\r\n          return x < y ? 1 : x > y ? -1 : 0;\r\n        });\r\n        apList = data;\r\n        refreshAPHTML2(apList);\r\n\r\n      }\r\n    });\r\n  });\r\n}\r\nfunction formatAP(ssid, rssi, auth) {\r\n  const rssi_icon=rssiToIcon(rssi);\r\n  const auth_icon={label:auth == 0 ? '🔓' : '🔒',icon:auth == 0 ? 'no_encryption' : 'lock'};\r\n  \r\n  return `<tr data-bs-toggle=\"modal\" data-bs-target=\"#WifiConnectDialog\"><td></td><td>${ssid}</td><td>\r\n  <span class=\"material-icons\" style=\"fill:white; display: inline\" aria-label=\"${rssi_icon.label}\" icon=\"${rssi_icon.icon}\" >${getIcon(rssi_icon)}</span>\r\n  \t</td><td>\r\n    <span class=\"material-icons\" aria-label=\"${auth_icon.label}\" icon=\"${auth_icon.icon}\">${getIcon(auth_icon)}</span>\r\n  </td></tr>`;\r\n}\r\nfunction refreshAPHTML2(data) {\r\n  let h = '';\r\n  $('#wifiTable tr td:first-of-type').text('');\r\n  $('#wifiTable tr').removeClass('table-success table-warning');\r\n  if (data) {\r\n    data.forEach(function (e) {\r\n      h += formatAP(e.ssid, e.rssi, e.auth);\r\n    });\r\n    $('#wifiTable').html(h);\r\n  }\r\n  if ($('.manual_add').length == 0) {\r\n    $('#wifiTable').append(formatAP('Manual add', 0, 0));\r\n    $('#wifiTable tr:last').addClass('table-light text-dark').addClass('manual_add');\r\n  }\r\n  if (ConnectedTo.ssid && (ConnectedTo.urc === connectReturnCode.OK || ConnectedTo.urc === connectReturnCode.RESTORE)) {\r\n    const wifiSelector = `#wifiTable td:contains(\"${ConnectedTo.ssid}\")`;\r\n    if ($(wifiSelector).filter(function () { return $(this).text() === ConnectedTo.ssid; }).length == 0) {\r\n      $('#wifiTable').prepend(`${formatAP(ConnectedTo.ssid, ConnectedTo.rssi ?? 0, 0)}`);\r\n    }\r\n    $(wifiSelector).filter(function () { return $(this).text() === ConnectedTo.ssid; }).siblings().first().html('&check;').parent().addClass((ConnectedTo.urc === connectReturnCode.OK ? 'table-success' : 'table-warning'));\r\n    $('span#foot-if').html(`SSID: <strong>${ConnectedTo.ssid}</strong>, IP: <strong>${ConnectedTo.ip}</strong>`);\r\n    $('#wifiStsIcon').html(rssiToIcon(ConnectedTo.rssi));\r\n\r\n  }\r\n  else if (ConnectedTo?.urc !== connectReturnCode.ETH) {\r\n    $('span#foot-if').html('');\r\n  }\r\n\r\n}\r\nfunction refreshETH() {\r\n\r\n  if (ConnectedTo.urc === connectReturnCode.ETH) {\r\n    $('span#foot-if').html(`Network: Ethernet, IP: <strong>${ConnectedTo.ip}</strong>`);\r\n  }\r\n}\r\nfunction showTask(task) {\r\n  console.debug(\r\n    this.toLocaleString() +\r\n    '\\t' +\r\n    task.nme +\r\n    '\\t' +\r\n    task.cpu +\r\n    '\\t' +\r\n    taskStates[task.st] +\r\n    '\\t' +\r\n    task.minstk +\r\n    '\\t' +\r\n    task.bprio +\r\n    '\\t' +\r\n    task.cprio +\r\n    '\\t' +\r\n    task.num\r\n  );\r\n  $('tbody#tasks').append(\r\n    '<tr class=\"table-primary\"><th scope=\"row\">' +\r\n    task.num +\r\n    '</th><td>' +\r\n    task.nme +\r\n    '</td><td>' +\r\n    task.cpu +\r\n    '</td><td>' +\r\n    taskStates[task.st] +\r\n    '</td><td>' +\r\n    task.minstk +\r\n    '</td><td>' +\r\n    task.bprio +\r\n    '</td><td>' +\r\n    task.cprio +\r\n    '</td></tr>'\r\n  );\r\n}\r\nfunction btExists(name) {\r\n  return getBTSinkOpt(name).length > 0;\r\n}\r\nfunction getBTSinkOpt(name) {\r\n  return $(`${btSinkNamesOptSel} option:contains('${name}')`);\r\n}\r\nfunction getMessages() {\r\n  $.ajaxSetup({\r\n    timeout: messageInterval //Time in milliseconds\r\n  });\r\n  $.getJSON('/messages.json', async function (data) {\r\n    for (const msg of data) {\r\n      const msgAge = msg.current_time - msg.sent_time;\r\n      var msgTime = new Date();\r\n      msgTime.setTime(msgTime.getTime() - msgAge);\r\n      switch (msg.class) {\r\n        case 'MESSAGING_CLASS_OTA':\r\n          flashState.EventOTAMessageClass(msg.message);\r\n          break;\r\n        case 'MESSAGING_CLASS_STATS':\r\n          // for task states, check structure : task_state_t\r\n          var statsData = JSON.parse(msg.message);\r\n          console.debug(\r\n            msgTime.toLocalShort() +\r\n            ' - Number of running tasks: ' +\r\n            statsData.ntasks\r\n          );\r\n          console.debug(\r\n            msgTime.toLocalShort() +\r\n            '\\tname' +\r\n            '\\tcpu' +\r\n            '\\tstate' +\r\n            '\\tminstk' +\r\n            '\\tbprio' +\r\n            '\\tcprio' +\r\n            '\\tnum'\r\n          );\r\n          if (statsData.tasks) {\r\n            if ($('#tasks_sect').css('visibility') === 'collapse') {\r\n              $('#tasks_sect').css('visibility', 'visible');\r\n            }\r\n            $('tbody#tasks').html('');\r\n            statsData.tasks\r\n              .sort(function (a, b) {\r\n                return b.cpu - a.cpu;\r\n              })\r\n              .forEach(showTask, msgTime);\r\n          } else if ($('#tasks_sect').css('visibility') === 'visible') {\r\n            $('tbody#tasks').empty();\r\n            $('#tasks_sect').css('visibility', 'collapse');\r\n          }\r\n          break;\r\n        case 'MESSAGING_CLASS_SYSTEM':\r\n          showMessage(msg, msgTime);\r\n          break;\r\n        case 'MESSAGING_CLASS_CFGCMD':\r\n          var msgparts = msg.message.split(/([^\\n]*)\\n(.*)/gs);\r\n          showCmdMessage(msgparts[1], msg.type, msgparts[2], true);\r\n          break;\r\n        case 'MESSAGING_CLASS_BT':\r\n          if ($(\"#cfg-audio-bt_source-sink_name\").is('input')) {\r\n            var attr = $(\"#cfg-audio-bt_source-sink_name\")[0].attributes;\r\n            var attrs = '';\r\n            for (var j = 0; j < attr.length; j++) {\r\n              if (attr.item(j).name != \"type\") {\r\n                attrs += `${attr.item(j).name} = \"${attr.item(j).value}\" `;\r\n              }\r\n            }\r\n            var curOpt = $(\"#cfg-audio-bt_source-sink_name\")[0].value;\r\n            $(\"#cfg-audio-bt_source-sink_name\").replaceWith(`<select id=\"cfg-audio-bt_source-sink_name\" ${attrs}><option value=\"${curOpt}\" data-bs-description=\"${curOpt}\">${curOpt}</option></select> `);\r\n          }\r\n          JSON.parse(msg.message).forEach(function (btEntry) {\r\n            //<input type=\"text\" class=\"form-control bg-success\" placeholder=\"name\" hasvalue=\"true\" longopts=\"sink_name\" shortopts=\"n\" checkbox=\"false\" cmdname=\"cfg-audio-bt_source\" id=\"cfg-audio-bt_source-sink_name\" name=\"cfg-audio-bt_source-sink_name\">\r\n            //<select hasvalue=\"true\" longopts=\"jack_behavior\" shortopts=\"j\" checkbox=\"false\" cmdname=\"cfg-audio-general\" id=\"cfg-audio-general-jack_behavior\" name=\"cfg-audio-general-jack_behavior\" class=\"form-control \"><option>--</option><option>Headphones</option><option>Subwoofer</option></select>            \r\n            if (!btExists(btEntry.name)) {\r\n              $(\"#cfg-audio-bt_source-sink_name\").append(`<option>${btEntry.name}</option>`);\r\n              showMessage({ type: msg.type, message: `BT Audio device found: ${btEntry.name} RSSI: ${btEntry.rssi} ` }, msgTime);\r\n            }\r\n            getBTSinkOpt(btEntry.name).attr('data-bs-description', `${btEntry.name} (${btEntry.rssi}dB)`)\r\n              .attr('rssi', btEntry.rssi)\r\n              .attr('value', btEntry.name)\r\n              .text(`${btEntry.name} [${btEntry.rssi}dB]`).trigger('change');\r\n\r\n          });\r\n          $(btSinkNamesOptSel).append($(`${btSinkNamesOptSel} option`).remove().sort(function (a, b) {\r\n            console.log(`${parseInt($(a).attr('rssi'))} < ${parseInt($(b).attr('rssi'))} ? `);\r\n            return parseInt($(a).attr('rssi')) < parseInt($(b).attr('rssi')) ? 1 : -1;\r\n          }));\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    setTimeout(getMessages,messageInterval);\r\n  }).fail(function (xhr, ajaxOptions, thrownError) {\r\n    \r\n    if (xhr.status == 404) {\r\n      $('.orec').hide(); // system commands won't be available either\r\n      messagesHeld = true;\r\n    }\r\n    else {\r\n      handleExceptionResponse(xhr, ajaxOptions, thrownError);\r\n    }\r\n    if(xhr.status == 0 && xhr.readyState ==0){\r\n      // probably a timeout. Target is rebooting? \r\n      setTimeout(getMessages,messageInterval*2); // increase duration if a failure happens\r\n    }\r\n    else if(!messagesHeld){\r\n      // 404 here means we rebooted to an old recovery\r\n      setTimeout(getMessages,messageInterval); // increase duration if a failure happens\r\n    }\r\n    \r\n  }\r\n  );\r\n\r\n  /*\r\n    Minstk is minimum stack space left\r\nBprio is base priority\r\ncprio is current priority\r\nnme is name\r\nst is task state. I provided a \"typedef\" that you can use to convert to text\r\ncpu is cpu percent used\r\n*/\r\n}\r\nfunction handleRecoveryMode(data) {\r\n  const locRecovery = data.recovery ?? 0;\r\n  if (locRecovery === 1) {\r\n    recovery = true;\r\n    $('.recovery_element').show();\r\n    $('.ota_element').hide();\r\n    $('#boot-button').html('Reboot');\r\n    $('#boot-form').attr('action', '/reboot_ota.json');\r\n  } else {\r\n    if(!recovery && messagesHeld){\r\n      messagesHeld=false;\r\n      setTimeout(getMessages,messageInterval); // increase duration if a failure happens\r\n    }\r\n    recovery = false;\r\n    \r\n    $('.recovery_element').hide();\r\n    $('.ota_element').show();\r\n    $('#boot-button').html('Recovery');\r\n    $('#boot-form').attr('action', '/recovery.json');\r\n  }\r\n  \r\n}\r\n\r\nfunction hasConnectionChanged(data) {\r\n  // gw: \"192.168.10.1\"\r\n  // ip: \"192.168.10.225\"\r\n  // netmask: \"255.255.255.0\"\r\n  // ssid: \"MyTestSSID\"\r\n\r\n  return (data.urc !== ConnectedTo.urc ||\r\n    data.ssid !== ConnectedTo.ssid ||\r\n    data.gw !== ConnectedTo.gw ||\r\n    data.netmask !== ConnectedTo.netmask ||\r\n    data.ip !== ConnectedTo.ip || data.rssi !== ConnectedTo.rssi)\r\n}\r\nfunction handleWifiDialog(data) {\r\n  if ($('#WifiConnectDialog').is(':visible')) {\r\n    if (ConnectedTo.ip) {\r\n      $('#ipAddress').text(ConnectedTo.ip);\r\n    }\r\n    if (ConnectedTo.ssid) {\r\n      $('#connectedToSSID').text(ConnectedTo.ssid);\r\n    }\r\n    if (ConnectedTo.gw) {\r\n      $('#gateway').text(ConnectedTo.gw);\r\n    }\r\n    if (ConnectedTo.netmask) {\r\n      $('#netmask').text(ConnectedTo.netmask);\r\n    }\r\n    if (ConnectingToSSID.Action === undefined || (ConnectingToSSID.Action && ConnectingToSSID.Action == ConnectingToActions.STS)) {\r\n      $(\"*[class*='connecting']\").hide();\r\n      $('.connecting-status').show();\r\n    }\r\n    if (SystemConfig.ap_ssid) {\r\n      $('#apName').text(SystemConfig.ap_ssid.value);\r\n    }\r\n    if (SystemConfig.ap_pwd) {\r\n      $('#apPass').text(SystemConfig.ap_pwd.value);\r\n    }\r\n    if (!data) {\r\n      return;\r\n    }\r\n    else {\r\n      switch (data.urc) {\r\n        case connectReturnCode.OK:\r\n          if (data.ssid && data.ssid === ConnectingToSSID.ssid) {\r\n            $(\"*[class*='connecting']\").hide();\r\n            $('.connecting-success').show();\r\n            ConnectingToSSID.Action = ConnectingToActions.STS;\r\n          }\r\n          break;\r\n        case connectReturnCode.FAIL:\r\n          // \r\n          if (ConnectingToSSID.Action != ConnectingToActions.STS && ConnectingToSSID.ssid == data.ssid) {\r\n            $(\"*[class*='connecting']\").hide();\r\n            $('.connecting-fail').show();\r\n          }\r\n          break;\r\n        case connectReturnCode.LOST:\r\n\r\n          break;\r\n        case connectReturnCode.RESTORE:\r\n          if (ConnectingToSSID.Action != ConnectingToActions.STS && ConnectingToSSID.ssid != data.ssid) {\r\n            $(\"*[class*='connecting']\").hide();\r\n            $('.connecting-fail').show();\r\n          }\r\n          break;\r\n        case connectReturnCode.DISC:\r\n          // that's a manual disconnect\r\n          // if ($('#wifi-status').is(':visible')) {\r\n          //   $('#wifi-status').slideUp('fast', function() {});\r\n          //   $('span#foot-wifi').html('');\r\n\r\n          // }                 \r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\nfunction setIcons(offline){\r\n  $('.material-icons').each(function (_index, entry) {\r\n    entry.textContent = entry.attributes[offline?'aria-label':'icon'].value;\r\n  });\r\n}\r\nfunction handleNetworkStatus(data) {\r\n  setIcons(data.ssid==='');\r\n  if (hasConnectionChanged(data) || !data.urc) {\r\n    ConnectedTo = data;\r\n    $(\".if_eth\").hide();\r\n    $('.if_wifi').hide();\r\n    if (!data.urc || ConnectedTo.urc != connectReturnCode.ETH) {\r\n      $('.if_wifi').show();\r\n      refreshAPHTML2();\r\n    }\r\n    else {\r\n      $(\".if_eth\").show();\r\n      refreshETH();\r\n    }\r\n\r\n  }\r\n  handleWifiDialog(data);\r\n}\r\n\r\n\r\n\r\nfunction batteryToIcon(voltage) {\r\n  /* Assuming Li-ion 18650s as a power source, 3.9V per cell, or above is treated\r\n  as full charge (>75% of capacity).  3.4V is empty. The gauge is loosely\r\n  following the graph here:\r\n    https://learn.adafruit.com/li-ion-and-lipoly-batteries/voltages\r\n  using the 0.2C discharge profile for the rest of the values.\r\n*/\r\n\r\n  for (const iconEntry of batIcons) {\r\n    for (const entryRanges of iconEntry.ranges) {\r\n      if (inRange(voltage, entryRanges.f, entryRanges.t)) {\r\n        return { label: iconEntry.label, icon:iconEntry.icon};\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return {label:'▪▪▪▪',icon:\"battery_full\"};\r\n}\r\nfunction checkStatus() {\r\n  $.ajaxSetup({\r\n    timeout: statusInterval //Time in milliseconds\r\n  });\r\n  $.getJSON('/status.json', function (data) {\r\n    handleRecoveryMode(data);\r\n    handleNVSVisible();\r\n    handleNetworkStatus(data);\r\n    handlebtstate(data);\r\n    flashState.EventTargetStatus(data);\r\n\r\n    if (data.project_name && data.project_name !== '') {\r\n      project_name = data.project_name;\r\n    }\r\n    if (data.platform_name && data.platform_name !== '') {\r\n      platform_name = data.platform_name;\r\n    }\r\n    if (board_model === '') board_model = project_name;\r\n    if (board_model === '') board_model = 'Squeezelite-ESP32';\r\n    if (data.version && data.version !== '') {\r\n      versionName = data.version;\r\n      $(\"#navtitle\").html(`${board_model}${recovery ? '<br>[recovery]' : ''}`);\r\n      $('span#foot-fw').html(`fw: <strong>${versionName}</strong>, mode: <strong>${recovery ? \"Recovery\" : project_name}</strong>`);\r\n    } else {\r\n      $('span#flash-status').html('');\r\n    }\r\n    if (data.Voltage) {\r\n      const bat_icon=batteryToIcon(data.Voltage);\r\n      $('#battery').html(`${getIcon(bat_icon)}`);\r\n      $('#battery').attr(\"aria-label\",bat_icon.label);\r\n      $('#battery').attr(\"icon\",bat_icon.icon);\r\n      $('#battery').show();\r\n    } else {\r\n      $('#battery').hide();\r\n    }\r\n    if ((data.message ?? '') != '' && prevmessage != data.message) {\r\n      // supporting older recovery firmwares - messages will come from the status.json structure\r\n      prevmessage = data.message;\r\n      showLocalMessage(data.message, 'MESSAGING_INFO')\r\n    }\r\n    is_i2c_locked = data.is_i2c_locked;\r\n    if (is_i2c_locked) {\r\n      $('flds-cfg-hw-preset').hide();\r\n    }\r\n    else {\r\n      $('flds-cfg-hw-preset').show();\r\n    }\r\n    $(\"button[onclick*='handleReboot']\").removeClass('rebooting');\r\n\r\n    if (typeof lmsBaseUrl == \"undefined\" || data.lms_ip != prevLMSIP && data.lms_ip && data.lms_port) {\r\n      const baseUrl = 'http://' + data.lms_ip + ':' + data.lms_port;\r\n      prevLMSIP = data.lms_ip;\r\n      $.ajax({\r\n        url: baseUrl + '/plugins/SqueezeESP32/firmware/-check.bin',\r\n        type: 'HEAD',\r\n        dataType: 'text',\r\n        cache: false,\r\n        error: function () {\r\n          // define the value, so we don't check it any more.\r\n          lmsBaseUrl = '';\r\n        },\r\n        success: function () {\r\n          lmsBaseUrl = baseUrl;\r\n        }\r\n      });\r\n    }\r\n    $('#o_jack').css({ display: Number(data.Jack) ? 'inline' : 'none' });\r\n    setTimeout(checkStatus,statusInterval);\r\n  }).fail(function (xhr, ajaxOptions, thrownError) {\r\n    handleExceptionResponse(xhr, ajaxOptions, thrownError);\r\n    if(xhr.status == 0 && xhr.readyState ==0){\r\n      // probably a timeout. Target is rebooting? \r\n      setTimeout(checkStatus,messageInterval*2); // increase duration if a failure happens\r\n    }\r\n    else {\r\n      setTimeout(checkStatus,messageInterval); // increase duration if a failure happens\r\n    }\r\n  });\r\n}\r\n// eslint-disable-next-line no-unused-vars\r\nwindow.runCommand = function (button, reboot) {\r\n  let cmdstring = button.attributes.cmdname.value;\r\n  showCmdMessage(\r\n    button.attributes.cmdname.value,\r\n    'MESSAGING_INFO',\r\n    'Executing.',\r\n    false\r\n  );\r\n  const fields = document.getElementById('flds-' + cmdstring);\r\n  const allfields = fields?.querySelectorAll('select,input');\r\n  if (cmdstring === 'cfg-hw-preset') return handleHWPreset(allfields, reboot);\r\n  cmdstring += ' ';\r\n  if (fields) {\r\n\r\n    for (const field of allfields) {\r\n      let qts = '';\r\n      let opt = '';\r\n      let attr = field.attributes;\r\n      let isSelect = $(field).is('select');\r\n      const hasValue = attr?.hasvalue?.value === 'true';\r\n      const validVal = (isSelect && field.value !== '--') || (!isSelect && field.value !== '');\r\n\r\n      if (!hasValue || hasValue && validVal) {\r\n        if (attr?.longopts?.value !== 'undefined') {\r\n          opt += '--' + attr?.longopts?.value;\r\n        } else if (attr?.shortopts?.value !== 'undefined') {\r\n          opt = '-' + attr.shortopts.value;\r\n        }\r\n\r\n        if (attr?.hasvalue?.value === 'true') {\r\n          if (attr?.value !== '') {\r\n            qts = /\\s/.test(field.value) ? '\"' : '';\r\n            cmdstring += opt + ' ' + qts + field.value + qts + ' ';\r\n          }\r\n        } else {\r\n          // this is a checkbox\r\n          if (field?.checked) {\r\n            cmdstring += opt + ' ';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  console.log(cmdstring);\r\n\r\n  const data = {\r\n    timestamp: Date.now(),\r\n  };\r\n  data.command = cmdstring;\r\n\r\n  $.ajax({\r\n    url: '/commands.json',\r\n    dataType: 'text',\r\n    method: 'POST',\r\n    cache: false,\r\n    contentType: 'application/json; charset=utf-8',\r\n    data: JSON.stringify(data),\r\n    error: function (xhr, _ajaxOptions, thrownError) {\r\n      var cmd = JSON.parse(this.data).command;\r\n      if (xhr.status == 404) {\r\n        showCmdMessage(\r\n          cmd.substr(0, cmd.indexOf(' ')),\r\n          'MESSAGING_ERROR',\r\n          `${recovery ? 'Limited recovery mode active. Unsupported action ' : 'Unexpected error while processing command'}`,\r\n          true\r\n        );\r\n      }\r\n      else {\r\n        handleExceptionResponse(xhr, _ajaxOptions, thrownError);\r\n        showCmdMessage(\r\n          cmd.substr(0, cmd.indexOf(' ') - 1),\r\n          'MESSAGING_ERROR',\r\n          `Unexpected error ${(thrownError !== '') ? thrownError : 'with return status = ' + xhr.status}`,\r\n          true\r\n        );\r\n      }\r\n    },\r\n    success: function (response) {\r\n      $('.orec').show();\r\n      console.log(response);\r\n      if (\r\n        JSON.parse(response).Result === 'Success' &&\r\n        reboot\r\n      ) {\r\n        delayReboot(2500, button.attributes.cmdname.value);\r\n      }\r\n    },\r\n  });\r\n}\r\nfunction getLongOps(data, name, longopts) {\r\n  return data.values[name] !== undefined ? data.values[name][longopts] : \"\";\r\n}\r\nfunction getCommands() {\r\n  $.ajaxSetup({\r\n    timeout: 7000 //Time in milliseconds\r\n  });\r\n  $.getJSON('/commands.json', function (data) {\r\n    console.log(data);\r\n    $('.orec').show();\r\n    data.commands.forEach(function (command) {\r\n      if ($('#flds-' + command.name).length === 0) {\r\n        const cmdParts = command.name.split('-');\r\n        const isConfig = cmdParts[0] === 'cfg';\r\n        const targetDiv = '#tab-' + cmdParts[0] + '-' + cmdParts[1];\r\n        let innerhtml = '';\r\n        innerhtml += `<div class=\"card text-white mb-3\"><div class=\"card-header\">${command.help.encodeHTML().replace(/\\n/g, '<br />')}</div><div class=\"card-body\"><fieldset id=\"flds-${command.name}\">`;\r\n        if (command.argtable) {\r\n          command.argtable.forEach(function (arg) {\r\n            let placeholder = arg.datatype || '';\r\n            const ctrlname = command.name + '-' + arg.longopts;\r\n            const curvalue = getLongOps(data, command.name, arg.longopts);\r\n\r\n            let attributes = 'hasvalue=' + arg.hasvalue + ' ';\r\n            attributes += 'longopts=\"' + arg.longopts + '\" ';\r\n            attributes += 'shortopts=\"' + arg.shortopts + '\" ';\r\n            attributes += 'checkbox=' + arg.checkbox + ' ';\r\n            attributes += 'cmdname=\"' + command.name + '\" ';\r\n            attributes +=\r\n              'id=\"' +\r\n              ctrlname +\r\n              '\" name=\"' +\r\n              ctrlname +\r\n              '\" hasvalue=\"' +\r\n              arg.hasvalue +\r\n              '\"   ';\r\n            let extraclass = arg.mincount > 0 ? 'bg-success' : '';\r\n            if (arg.glossary === 'hidden') {\r\n              attributes += ' style=\"visibility: hidden;\"';\r\n            }\r\n            if (arg.checkbox) {\r\n              innerhtml += `<div class=\"form-check\"><label class=\"form-check-label\"><input type=\"checkbox\" ${attributes} class=\"form-check-input ${extraclass}\" value=\"\" >${arg.glossary.encodeHTML()}</label>`;\r\n            } else {\r\n              innerhtml += `<div class=\"form-group\" ><label for=\"${ctrlname}\">${arg.glossary.encodeHTML()}</label>`;\r\n              if (placeholder.includes('|')) {\r\n                extraclass = placeholder.startsWith('+') ? ' multiple ' : '';\r\n                placeholder = placeholder\r\n                  .replace('<', '')\r\n                  .replace('=', '')\r\n                  .replace('>', '');\r\n                innerhtml += `<select ${attributes} class=\"form-control ${extraclass}\" >`;\r\n                placeholder = '--|' + placeholder;\r\n                placeholder.split('|').forEach(function (choice) {\r\n                  innerhtml += '<option >' + choice + '</option>';\r\n                });\r\n                innerhtml += '</select>';\r\n              } else {\r\n                innerhtml += `<input type=\"text\" class=\"form-control ${extraclass}\" placeholder=\"${placeholder}\" ${attributes}>`;\r\n              }\r\n            }\r\n\r\n            innerhtml += `${arg.checkbox ? '</div>' : ''}<small class=\"form-text text-muted\">Previous value: ${arg.checkbox ? (curvalue ? 'Checked' : 'Unchecked') : (curvalue || '')}</small>${arg.checkbox ? '' : '</div>'}`;\r\n          });\r\n        }\r\n        innerhtml += `<div style=\"margin-top: 16px;\">\r\n        <div class=\"toast hide\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" id=\"toast_${command.name}\">\r\n        <div class=\"toast-header\">\r\n        <strong class=\"mr-auto\">Result</strong\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"toast-body\" id=\"msg_${command.name}\"></div>\r\n      </div>`;\r\n        if (isConfig) {\r\n          innerhtml +=\r\n            `<button type=\"submit\" class=\"btn btn-info sclk\" id=\"btn-save-${command.name}\" cmdname=\"${command.name}\">Save</button>\r\n<button type=\"submit\" class=\"btn btn-warning cclk\" id=\"btn-commit-${command.name}\" cmdname=\"${command.name}\">Apply</button>`;\r\n        } else {\r\n          innerhtml += `<button type=\"submit\" class=\"btn btn-success sclk\" id=\"btn-run-${command.name}\" cmdname=\"${command.name}\">Execute</button>`;\r\n        }\r\n        innerhtml += '</div></fieldset></div></div>';\r\n        if (isConfig) {\r\n          $(targetDiv).append(innerhtml);\r\n        } else {\r\n          $('#commands-list').append(innerhtml);\r\n        }\r\n      }\r\n    });\r\n    $(\".sclk\").off('click').on('click', function () { runCommand(this, false); });\r\n    $(\".cclk\").off('click').on('click', function () { runCommand(this, true); });\r\n    data.commands.forEach(function (command) {\r\n      $('[cmdname=' + command.name + ']:input').val('');\r\n      $('[cmdname=' + command.name + ']:checkbox').prop('checked', false);\r\n      if (command.argtable) {\r\n        command.argtable.forEach(function (arg) {\r\n          const ctrlselector = '#' + command.name + '-' + arg.longopts;\r\n          const ctrlValue = getLongOps(data, command.name, arg.longopts);\r\n          if (arg.checkbox) {\r\n            $(ctrlselector)[0].checked = ctrlValue;\r\n          } else {\r\n            if (ctrlValue !== undefined) {\r\n              $(ctrlselector)\r\n                .val(ctrlValue)\r\n                .trigger('change');\r\n            }\r\n            if (\r\n              $(ctrlselector)[0].value.length === 0 &&\r\n              (arg.datatype || '').includes('|')\r\n            ) {\r\n              $(ctrlselector)[0].value = '--';\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    loadPresets();\r\n  }).fail(function (xhr, ajaxOptions, thrownError) {\r\n    if (xhr.status == 404) {\r\n      $('.orec').hide();\r\n    }\r\n    else {\r\n      handleExceptionResponse(xhr, ajaxOptions, thrownError);\r\n    }\r\n    $('#commands-list').empty();\r\n\r\n  });\r\n}\r\n\r\nfunction getConfig() {\r\n  $.ajaxSetup({\r\n    timeout: 7000 //Time in milliseconds\r\n  });\r\n  $.getJSON('/config.json', function (entries) {\r\n    $('#nvsTable tr').remove();\r\n    const data = (entries.config ? entries.config : entries);\r\n    SystemConfig = data;\r\n    Object.keys(data)\r\n      .sort()\r\n      .forEach(function (key) {\r\n        let val = data[key].value;\r\n        if (key === 'autoexec') {\r\n          if (data.autoexec.value === '0') {\r\n            $('#disable-squeezelite')[0].checked = true;\r\n          } else {\r\n            $('#disable-squeezelite')[0].checked = false;\r\n          }\r\n        } else if (key === 'autoexec1') {\r\n          const re = /-o\\s?([\"][^\"]*[\"]|[^-]+)/g;\r\n          const m = re.exec(val);\r\n          if (m[1].toUpperCase().startsWith('I2S')) {\r\n            handleTemplateTypeRadio('i2s');\r\n          } else if (m[1].toUpperCase().startsWith('SPDIF')) {\r\n            handleTemplateTypeRadio('spdif');\r\n          } else if (m[1].toUpperCase().startsWith('\"BT')) {\r\n            handleTemplateTypeRadio('bt');\r\n          }\r\n        } else if (key === 'host_name') {\r\n          val = val.replaceAll('\"', '');\r\n          $('input#dhcp-name1').val(val);\r\n          $('input#dhcp-name2').val(val);\r\n          $('#player').val(val);\r\n          document.title = val;\r\n          hostName = val;\r\n        } else if (key === 'rel_api') {\r\n          releaseURL = val;\r\n        }\r\n        else if (key === 'enable_airplay') {\r\n          $(\"#s_airplay\").css({ display: isEnabled(val) ? 'inline' : 'none' })\r\n        }\r\n        else if (key === 'enable_cspot') {\r\n          $(\"#s_cspot\").css({ display: isEnabled(val) ? 'inline' : 'none' })\r\n        }\r\n        else if (key == 'preset_name') {\r\n          preset_name = val;\r\n        }\r\n        else if (key == 'board_model') {\r\n          board_model = val;\r\n        }\r\n\r\n        $('tbody#nvsTable').append(\r\n          '<tr>' +\r\n          '<td>' +\r\n          key +\r\n          '</td>' +\r\n          \"<td class='value'>\" +\r\n          \"<input type='text' class='form-control nvs' id='\" +\r\n          key +\r\n          \"'  nvs_type=\" +\r\n          data[key].type +\r\n          ' >' +\r\n          '</td>' +\r\n          '</tr>'\r\n        );\r\n        $('input#' + key).val(data[key].value);\r\n      });\r\n    $('tbody#nvsTable').append(\r\n      \"<tr><td><input type='text' class='form-control' id='nvs-new-key' placeholder='new key'></td><td><input type='text' class='form-control' id='nvs-new-value' placeholder='new value' nvs_type=33 ></td></tr>\"\r\n    );\r\n    if (entries.gpio) {\r\n      $('#pins').show();\r\n      $('tbody#gpiotable tr').remove();\r\n      entries.gpio.forEach(function (gpioEntry) {\r\n        $('tbody#gpiotable').append(\r\n          '<tr class=' +\r\n          (gpioEntry.fixed ? 'table-secondary' : 'table-primary') +\r\n          '><th scope=\"row\">' +\r\n          gpioEntry.group +\r\n          '</th><td>' +\r\n          gpioEntry.name +\r\n          '</td><td>' +\r\n          gpioEntry.gpio +\r\n          '</td><td>' +\r\n          (gpioEntry.fixed ? 'Fixed' : 'Configuration') +\r\n          '</td></tr>'\r\n        );\r\n      });\r\n    }\r\n    else {\r\n      $('#pins').hide();\r\n    }\r\n  }).fail(function (xhr, ajaxOptions, thrownError) {\r\n    handleExceptionResponse(xhr, ajaxOptions, thrownError);\r\n  });\r\n}\r\nfunction showLocalMessage(message, severity) {\r\n  const msg = {\r\n    message: message,\r\n    type: severity,\r\n  };\r\n  showMessage(msg, new Date());\r\n}\r\n\r\nfunction showMessage(msg, msgTime) {\r\n  let color = 'table-success';\r\n\r\n  if (msg.type === 'MESSAGING_WARNING') {\r\n    color = 'table-warning';\r\n    if (messageseverity === 'MESSAGING_INFO') {\r\n      messageseverity = 'MESSAGING_WARNING';\r\n    }\r\n  } else if (msg.type === 'MESSAGING_ERROR') {\r\n    if (\r\n      messageseverity === 'MESSAGING_INFO' ||\r\n      messageseverity === 'MESSAGING_WARNING'\r\n    ) {\r\n      messageseverity = 'MESSAGING_ERROR';\r\n    }\r\n    color = 'table-danger';\r\n  }\r\n  if (++messagecount > 0) {\r\n    $('#msgcnt').removeClass('badge-success');\r\n    $('#msgcnt').removeClass('badge-warning');\r\n    $('#msgcnt').removeClass('badge-danger');\r\n    $('#msgcnt').addClass(pillcolors[messageseverity]);\r\n    $('#msgcnt').text(messagecount);\r\n  }\r\n\r\n  $('#syslogTable').append(\r\n    \"<tr class='\" +\r\n    color +\r\n    \"'>\" +\r\n    '<td>' +\r\n    msgTime.toLocalShort() +\r\n    '</td>' +\r\n    '<td>' +\r\n    msg.message.encodeHTML() +\r\n    '</td>' +\r\n    '</tr>'\r\n  );\r\n}\r\n\r\nfunction inRange(x, min, max) {\r\n  return (x - min) * (x - max) <= 0;\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"bootstrap\");\r\nrequire(\"./sass/main.scss\");\r\nrequire(\"./assets/images/favicon-32x32.png\");\r\nrequire(\"./js/custom.js\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksqueezelite_esp32\"] = self[\"webpackChunksqueezelite_esp32\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [987], () => (__webpack_require__(607)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","he","require","Promise","handleNVSVisible","nvs_previous_checked","isEnabled","Cookies","$","checked","recovery","show","hide","val","undefined","match","window","bootstrap","String","prototype","format","Object","assign","args","arguments","this","replace","number","encodeHTML","encode","Date","toLocalShort","toLocaleString","dateStyle","timeStyle","nvsTypes","btIcons","bt_playing","bt_disconnected","bt_neutral","bt_connecting","bt_connected","bt_disabled","play_arrow","pause","stop","batIcons","icon","label","ranges","f","t","btStateIcons","desc","sub","pillcolors","MESSAGING_INFO","MESSAGING_WARNING","MESSAGING_ERROR","connectReturnCode","taskStates","flashState","NONE","REBOOT_TO_RECOVERY","SET_FWURL","FLASHING","DONE","UPLOADING","ERROR","UPLOADCOMPLETE","_state","olderRecovery","statusText","flashURL","flashFileName","statusPercent","Completed","prevRecovery","updateModal","Modal","document","getElementById","reset","UpdateProgress","removeClass","prop","value","isStateError","html","parent","isStateUploadComplete","isStateNone","isStateRebootRecovery","isStateSetUrl","isStateFlashing","isStateDone","isStateUploading","init","SetStateError","addClass","SetStateNone","SetStateRebootRecovery","SetStatusText","ajax","url","context","dataType","method","cache","contentType","data","JSON","stringify","timestamp","now","error","xhr","_ajaxOptions","thrownError","setOTAError","status","complete","response","SetStateSetUrl","post_config","fwurl","type","SetStateFlashing","SetStateDone","SetStateUploading","SetStateUploadComplete","isFlashExecuting","toString","keys","find","x","setOTATargets","fileInput","files","length","message","SetStatusPercent","ShowDialog","pct","pctChanged","txt","changed","css","attr","text","StartOTA","logEvent","name","TargetReadyStartOTA","UploadLocalFile","xhttp","XMLHttpRequest","boundHandleUploadProgressEvent","HandleUploadProgressEvent","bind","boundsetOTAError","upload","addEventListener","onreadystatechange","readyState","open","send","console","Math","round","loaded","total","EventTargetStatus","ota_pct","ota_dsc","EventOTAMessageClass","otaData","parse","fun","log","hideSurrounding","obj","presetsloaded","messageInterval","confPayload","config","handleExceptionResponse","isConnected","ConnectedTo","ip","getIcon","icons","handleTemplateTypeRadio","outtype","children","display","output","showLocalMessage","HideCmdMessage","cmdname","showCmdMessage","msgtype","msgtext","append","color","escapedtext","substring","hFlash","handleReboot","link","delayReboot","lmsBaseUrl","releaseURL","messagesHeld","messagecount","messageseverity","SystemConfig","LastCommandsState","hostName","versionName","prevmessage","project_name","board_model","platform_name","preset_name","btSinkNamesOptSel","ConnectingToSSID","prevLMSIP","ConnectingToActions","getConfigJson","slimMode","each","_index","entry","id","nvsType","parseInt","attributes","nvs_type","key","duration","ota","empty","resolve","delay","then","rdata","getCommands","getConfig","setPlatformFilter","filter","toUpperCase","trigger","rssiToIcon","rssi","refreshAP","urc","ajaxSetup","timeout","getJSON","sleep","sort","a","b","y","refreshAPHTML2","formatAP","ssid","auth","rssi_icon","auth_icon","h","forEach","e","wifiSelector","prepend","siblings","first","showTask","task","debug","nme","cpu","st","minstk","bprio","cprio","num","getBTSinkOpt","getMessages","msg","msgAge","current_time","sent_time","msgTime","setTime","getTime","statsData","ntasks","tasks","showMessage","msgparts","split","is","attrs","j","item","curOpt","replaceWith","btEntry","remove","setTimeout","fail","ajaxOptions","handleWifiDialog","gw","netmask","Action","ap_ssid","ap_pwd","setIcons","offline","textContent","handleNetworkStatus","hasConnectionChanged","checkStatus","handleRecoveryMode","tt","bt_status","bt_sub_status","iconindex","handlebtstate","version","Voltage","bat_icon","voltage","iconEntry","entryRanges","batteryToIcon","is_i2c_locked","lms_ip","lms_port","baseUrl","success","Number","Jack","getLongOps","longopts","values","commands","command","cmdParts","isConfig","targetDiv","innerhtml","help","argtable","arg","placeholder","datatype","ctrlname","curvalue","hasvalue","shortopts","checkbox","extraclass","mincount","glossary","includes","startsWith","choice","off","on","runCommand","ctrlselector","ctrlValue","_","jqxhr","textStatus","err","entries","autoexec","m","exec","replaceAll","title","gpio","gpioEntry","fixed","group","severity","ms","reason","_resolve","reject","saveAutoexec1","apply","commandLine","commandHeader","autoexec1","responseText","result","Result","handleDisconnect","handleConnect","pwd","dhcpname","ready","index","not","event","relatedTarget","FileReader","file","fr","onload","target","ex","alert","readAsText","slideUp","slideDown","preventDefault","createElement","href","URL","createObjectURL","Blob","setAttribute","body","appendChild","click","removeChild","branches","release","branch","push","fwb","assets","asset","browser_download_url","namecomponents","ver","cfg","bits","substr","lastIndexOf","created_at","i","idf","trclass","setURL","button","dataset","reboot","cmdstring","fields","allfields","querySelectorAll","selJson","cmd","model_config","storedval","handleHWPreset","field","qts","opt","isSelect","hasValue","validVal","test","indexOf","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}